# 火箭发射工具升级：加了YouTube发布功能

上一篇介绍了我做的视频发布工具，可以一键发布到微信视频号。用了一段时间后，我又加了YouTube Shorts的支持，这篇记录一下升级过程。

## 为什么要加YouTube

主要是两个原因：

1、流量分散风险。只在一个平台发内容，万一哪天平台规则变了或者账号出问题，之前的积累就没了。

2、YouTube是全球平台，用户基数大。虽然我的内容是中文的，但海外华人群体也不小，试试看能不能触达这部分用户。

问题是，每次发完视频号还要再去YouTube后台操作一遍，标题描述重新填一遍，太麻烦了。所以想把YouTube发布也集成到工具里。

## 升级过程

这次升级花了大概一个周末的时间（断断续续的，中间还带娃去了趟公园）。

### 和AI沟通需求

我跟Cursor说了大概的想法：在现有工具基础上增加YouTube发布功能，最好能一键同时发两个平台。

AI问了几个问题：

- YouTube需要API认证，有Google Cloud账号吗？
- 两个平台的标题描述格式一样吗？
- 界面怎么改？

这些我之前没想过。AI给了建议：用OAuth认证（就是那种弹窗让你授权的方式），配置文件改成JSON格式，可以分别写两个平台的信息。

### 项目结构调整

AI重新设计了一下代码结构：

```
media-publisher/
├── wechat.py      # 微信发布
├── youtube.py     # YouTube发布（新加的）
├── base.py        # 公共代码
└── app.py         # 界面
```

然后按步骤实现：创建YouTube发布模块、设计统一配置格式、升级界面加平台选择。

我还是没写代码，主要工作是回答AI的问题、测试功能、反馈bug。

### 遇到的问题

**问题1：OAuth重定向地址**

第一次测试YouTube发布，报了个错：`redirect_uri_mismatch`。

查了一下，需要在Google Cloud Console里添加重定向地址`http://localhost:8080/`。加上之后就好了。

**问题2：视频不显示为Shorts**

上传成功后发现视频在YouTube上是横屏显示，不是Shorts格式。

原因是YouTube根据视频比例自动判断，9:16的竖屏视频才会被识别为Shorts。我的视频本身是竖屏的，但导出时分辨率设置有问题。调整后正常了。

## 升级后的效果

现在工具支持两个平台：微信视频号和YouTube Shorts。

界面上加了个下拉框，可以选择发哪个平台，或者选"both"同时发两个。

![界面截图](placeholder_for_screenshot_v2.png)

配置文件改成了JSON格式，一个文件写两个平台的信息：

```json
{
    "wechat": {
        "title": "xxx",
        "description": "xxx",
        "hashtags": ["#标签1", "#标签2"]
    },
    "youtube": {
        "title": "xxx",
        "description": "xxx",
        "playlists": "播放列表名称"
    }
}
```

时间上的变化：以前发两个平台大概要8-10分钟（各操作一遍），现在1分钟左右搞定，主要是等视频上传。

## 一些想法

这次升级让我意识到，工具是可以不断迭代的。第一版解决了基本需求，用一段时间后发现新的痛点，再针对性地改进。

后面可能还会加其他平台（抖音、B站之类的），或者做批量上传、定时发布这些功能。不着急，用到的时候再说。

## 给想做YouTube的朋友几个建议

1、先用私密模式测试。配置里设置`privacy: "private"`，发布后只有自己能看，确认没问题再改成公开。

2、注意标题和描述的语言。想触达海外用户的话，考虑用英文或者中英双语。

3、YouTube Shorts对视频格式有要求，必须是9:16竖屏，时长不超过60秒。

---

工具获取方式：后台回复「火箭」

有问题可以评论区交流。

---

懿起成长
